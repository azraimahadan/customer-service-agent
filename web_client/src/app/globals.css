@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
    scroll-behavior: smooth;
  }
  body {
    @apply font-sf text-text-primary bg-background antialiased;
  }
  
  * {
    @apply border-border;
  }
}

@layer components {
  /* Chat Bubbles */
  .chat-bubble {
    @apply max-w-xs lg:max-w-md px-4 py-3 rounded-ios break-words shadow-ios transition-all duration-200;
  }
  
  .chat-bubble-user {
    @apply bg-gradient-to-r from-primary-600 to-primary-500 text-white ml-auto shadow-ios-md;
  }
  
  .chat-bubble-bot {
    @apply bg-surface text-text-primary border border-surface-200 shadow-ios;
  }
  
  /* Input Fields */
  .input-field {
    @apply w-full px-4 py-3 bg-surface border border-surface-200 rounded-ios 
           focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 
           transition-all duration-200 placeholder:text-text-muted;
  }
  
  /* Buttons */
  .btn-primary {
    @apply bg-gradient-to-r from-primary-600 to-primary-500 text-white px-6 py-3 
           rounded-ios font-medium transition-all duration-200 shadow-ios
           hover:from-primary-700 hover:to-primary-600 hover:shadow-ios-md
           disabled:opacity-50 disabled:cursor-not-allowed 
           active:scale-95 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }
  
  .btn-secondary {
    @apply bg-surface text-primary-600 px-4 py-2 rounded-ios border border-surface-200 
           font-medium transition-all duration-200 shadow-ios
           hover:bg-surface-50 hover:border-primary-300 hover:shadow-ios-md
           active:scale-95 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }
  
  .btn-icon {
    @apply p-3 rounded-full bg-surface border border-surface-200 
           text-text-secondary transition-all duration-200 shadow-ios
           hover:bg-primary-50 hover:text-primary-600 hover:border-primary-200 hover:shadow-ios-md
           active:scale-95 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }
  
  /* Glass Effect */
  .glass-effect {
    @apply bg-white/80 backdrop-blur-ios border border-white/20 shadow-glass;
  }
  
  /* Header Gradient */
  .header-gradient {
    @apply bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500;
  }
  
  /* Message Animation */
  .message-enter {
    @apply opacity-0 translate-y-4 scale-95;
  }
  
  .message-enter-active {
    @apply opacity-100 translate-y-0 scale-100 transition-all duration-300 ease-out;
  }
  
  /* Loading Animation */
  .typing-indicator {
    @apply flex gap-1;
  }
  
  .typing-dot {
    @apply w-2 h-2 bg-text-secondary rounded-full animate-bounce;
  }
  
  .typing-dot:nth-child(1) {
    animation-delay: 0ms;
  }
  
  .typing-dot:nth-child(2) {
    animation-delay: 150ms;
  }
  
  .typing-dot:nth-child(3) {
    animation-delay: 300ms;
  }
  
  /* Scrollbar Styling */
  .custom-scrollbar::-webkit-scrollbar {
    @apply w-2;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-surface-100 rounded-full;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-surface-300 rounded-full;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: #9CA3AF; /* surface-400 equivalent */
  }
  
  /* Avatar */
  .avatar {
    @apply w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 
           flex items-center justify-center text-white font-semibold shadow-ios;
  }
  
  .avatar-bot {
    @apply w-10 h-10 rounded-full bg-surface border border-surface-200 
           flex items-center justify-center text-primary-600 shadow-ios;
  }
  
  /* Background Grid Pattern */
  .bg-grid-pattern {
    background-image: 
      linear-gradient(rgba(99, 102, 241, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(99, 102, 241, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
  }
}